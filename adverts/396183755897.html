<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set</title>
  <link rel="icon" type="image/png" href="https://www.riddithomes.com/icons/static/flavicon.png"> <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet"/>
  <script type="application/ld+json">{"@context":"https://schema.org/","@type":"Product","name":"Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set","description":"Enhance your home with this magnificent Victorian cast iron fireplace, featuring intricate detailing and timeless craftsmanship. The ornate cast iron surround showcases elegant floral and geometric patterns, adding a touch of historical charm to any space.","image":["https://i.ebayimg.com/images/g/KRIAAOSwJGdnpf8L/s-l1600.webp","https://i.ebayimg.com/images/g/-GAAAOSwfTtnphYq/s-l1600.webp","https://i.ebayimg.com/images/g/4pMAAOSwaQpnphYs/s-l1600.webp","https://i.ebayimg.com/images/g/Bm0AAOSwVbBnpf67/s-l1600.webp","https://i.ebayimg.com/images/g/FzcAAOSwus5npf7k/s-l1600.webp","https://i.ebayimg.com/images/g/GKIAAOSwrftnpf63/s-l1600.webp","https://i.ebayimg.com/images/g/J8oAAOSw8wZnpf62/s-l1600.webp","https://i.ebayimg.com/images/g/UtMAAOSwPRtnpf61/s-l1600.webp","https://i.ebayimg.com/images/g/V-0AAOSwFlFnpf7j/s-l1600.webp","https://i.ebayimg.com/images/g/ZxAAAOSwTw9npf63/s-l1600.webp","https://i.ebayimg.com/images/g/bSwAAOSw3U9npf8O/s-l1600.webp","https://i.ebayimg.com/images/g/diUAAOSw1Fpnpf7f/s-l1600.webp","https://i.ebayimg.com/images/g/ersAAOSwzwFnphYp/s-l1600.webp","https://i.ebayimg.com/images/g/h2YAAOSwM6ZnphYt/s-l1600.webp","https://i.ebayimg.com/images/g/haQAAOSwL81npf7e/s-l1600.webp","https://i.ebayimg.com/images/g/iXIAAOSw2Alnpf8N/s-l1600.webp","https://i.ebayimg.com/images/g/jRwAAOSw2n9npf64/s-l1600.webp","https://i.ebayimg.com/images/g/ktYAAOSwGhRnpf7i/s-l1600.webp","https://i.ebayimg.com/images/g/tuoAAOSwENZnpf7i/s-l1600.webp","https://i.ebayimg.com/images/g/vdwAAOSw~YVnpf7g/s-l1600.webp","https://i.ebayimg.com/images/g/vg8AAOSwVPNnpf8O/s-l1600.webp"],"sku":"396183755897","mpn":"396183755897","offers":{"@type":"Offer","url":"https://riddithomes.co.uk/adverts/396183755897.html","priceCurrency":"GBP","price":"850.00","availability":"https://schema.org/InStock"}}</script>
  <style>
    :root { --accent: #61b458; --dark: #222; --light: #f5f5f5; --white: #fff; --modal-bg: rgba(0,0,0,0.85); }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Montserrat', sans-serif; background: var(--light); color: var(--dark); overflow-x: hidden; }
    header { position: sticky; top: 0; z-index: 1000; background: var(--dark); height: 56px; display: flex; align-items: center; padding: 0 1rem; }
    button.menu { background: none; border: none; cursor: pointer; margin-right: 1rem; padding: 0; } /* Ensure button has no padding */
    button.menu img { width: 24px; height: 24px; display: block; } /* Make img block */
    a.logo { flex: 1; text-align: center; line-height: 0; } /* Adjust line-height */
    a.logo img { height: 32px; vertical-align: middle; }
    #side-menu { position: fixed; top: 0; left: 0; bottom: 0; width: 260px; background: var(--dark); transform: translateX(-100%); transition: transform .3s ease; overflow-y: auto; z-index: 1100; padding: 1rem; }
    #side-menu.open { transform: translateX(0); }
    button.close-btn { background: none; border: none; color: #fff; font-size: 1.8rem; /* Slightly larger */ cursor: pointer; position: absolute; top: 0.5rem; right: 0.8rem; line-height: 1; padding: 0.2rem; } /* Added padding */
    #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 1050; }
    #overlay.show { display: block; }
    body.no-scroll { overflow: hidden; }
    #side-menu nav { margin-top: 2.5rem; display: flex; flex-direction: column; gap: 0.5rem; }
    nav a { display: block; color: #fff; padding: .5rem 0; text-decoration: none; font-weight: 600; }
    .container { max-width: 800px; margin: 1rem auto; padding: 1rem; background: var(--white); border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h2 { font-size: 1.6rem; margin: .75rem 0; }
    img.main { width: 100%; display: block; border-radius: 4px; margin-bottom: 1rem; }
    .price { font-size: 1.3rem; font-weight: 600; margin: .75rem 0; color: var(--dark); } /* Ensure price color */
    .price-details { margin: .5rem 0 1rem 0; }
    .price-details span { background: var(--accent); color: var(--white); padding: .4rem .6rem; border-radius: 4px; font-weight: 600; font-size: 1rem; display: inline-block; } /* Make inline-block */
    .actions { display: flex; gap: .5rem; flex-wrap: wrap; margin: 1rem 0; }
    .actions a { flex: 1 1 150px; text-align: center; padding: .75rem; border-radius: 4px; color: #fff; font-weight: 600; font-size: 1rem; text-decoration: none; display: flex; align-items: center; justify-content: center; gap: .5rem; transition: opacity 0.2s ease; border: none; } /* Ensure no border */
    .actions a:hover { opacity: 0.9; }
    .actions img { width: 18px; height: auto; vertical-align: middle; } /* Align icon */
    a.whatsapp { background: #25D366; } a.email { background: var(--accent); } a.ebay { background: #333; }
    .description { line-height: 1.6; margin: 1rem 0; word-wrap: break-word; color: var(--dark); } /* Ensure text color */
    .description p { margin-bottom: 0.75rem; }
    .gallery { display: flex; flex-wrap: wrap; gap: .75rem; margin-bottom: 1rem; }
    .gallery img { width: calc(33.333% - 0.5rem); height: 200px; object-fit: cover; border-radius: 4px; display: block; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; border: 1px solid #eee; } /* Added subtle border */
    .gallery img:hover { transform: scale(1.03); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
    @media(max-width: 800px) { .container { padding:.5rem; margin: 0.5rem; } h2 { font-size:1.4rem; } .gallery img { width: calc(50% - 0.375rem); height: 180px; } }
    @media(max-width: 500px) { .gallery img { width: 100%; height: auto; object-fit: contain; } .actions a{ flex: 1 1 100%; } }
    /* Image Modal Styles */
    .image-modal { display: none; position: fixed; z-index: 1200; left: 0; top: 0; width: 100%; height: 100%; overflow: hidden; background-color: var(--modal-bg); padding: 10px; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; user-select: none; touch-action: pinch-zoom; }
    .image-modal.show { display: flex; opacity: 1; }
    .modal-content-wrapper { position: relative; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; }
    .modal-content { display: block; max-width: 95%; max-height: 90vh; width: auto; height: auto; object-fit: contain; cursor: grab; animation-name: zoom; animation-duration: 0.4s; touch-action: none; }
    .modal-content:active { cursor: grabbing; }
    .modal-close { position: absolute; top: 10px; right: 25px; color: #f1f1f1; font-size: 35px; font-weight: bold; transition: 0.3s; cursor: pointer; line-height: 1; z-index: 1251; text-shadow: 0 1px 3px rgba(0,0,0,0.4); } /* Added shadow */
    .modal-close:hover, .modal-close:focus { color: #bbb; }
    .modal-nav { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(50, 50, 50, 0.6); color: white; border: none; padding: 12px 16px; font-size: 24px; cursor: pointer; border-radius: 4px; transition: background-color 0.3s ease; z-index: 1250; display: none; user-select: none; }
    .modal-nav:hover { background-color: rgba(80, 80, 80, 0.8); }
    .modal-nav.prev { left: 10px; } .modal-nav.next { right: 10px; }
    .modal-nav.show-button { display: block; }
    @keyframes zoom { from {transform:scale(0.8); opacity: 0.5;} to {transform:scale(1); opacity: 1;} }
    @media (max-width: 600px) { .modal-nav { padding: 8px 10px; font-size: 18px; } .modal-close { font-size: 30px; top: 10px; right: 15px; } .modal-content { max-width: 100%; max-height: 85vh; } }
  </style>
</head>
<body>
  <header>
    <button class="menu" type="button" aria-label="Toggle Menu" onclick="toggleMenu()"> <img src="/icons/menu-icon.png" alt="Menu"> </button> <a href="/" class="logo">
      <img src="/images/rhd-logo.png" alt="Riddit Homes"> </a> </header>

  <div id="side-menu">
    <button class="close-btn" type="button" aria-label="Close Menu">&times;</button> <nav>
      <a href="/">Home</a>
      <a href="/new-listings.html">New Listings</a>
      <a href="/kitchens.html">Kitchens</a>
      <a href="/return-policy.html">Return Policy</a>
      <a href="/contact-us.html">Contact</a>
      <a href="/about-us.html">About</a>
    </nav>
  </div>
  <div id="overlay"></div>

  <div class="container">
    <h2>Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set</h2>
    <img class="main" src="https://i.ebayimg.com/images/g/KRIAAOSwJGdnpf8L/s-l1600.webp" alt="Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set">
    <div class="price">£850.00</div>
    <div class="price-details">
      <span>WhatsApp/Email Price: £765 (Save £85)</span>
    </div>
    <div class="actions">
      <a href="https://wa.me/447424463887?text=I'm%20interested%20in%20Victorian%20Cast%20Iron%20Fireplace,%20Log%20Burner,%20Seat%20Guard,%20Fire%20Dogs,%20Superb%20Set" class="whatsapp" target="_blank" rel="noopener noreferrer">
        <img src="/icons/whatsapp-icon.png" alt="">WhatsApp </a>
      <a href="mailto:Riddithomes1@gmail.com?subject=Enquiry%20about%20Victorian%20Cast%20Iron%20Fireplace,%20Log%20Burner,%20Seat%20Guard,%20Fire%20Dogs,%20Superb%20Set" class="email">
        <img src="/icons/email-icon.png" alt="">Enquire </a>
      <a href="https://www.ebay.co.uk/itm/396183755897?itmmeta=01JV2Y17HXYB11PYH27PHBXY12&amp;hash=item5c3e645c79:g:KRIAAOSwJGdnpf8L" class="ebay" target="_blank" rel="noopener noreferrer">
        <img src="/icons/ebay-icon.png" alt="">Show on eBay </a>
    </div>
    <div class="description"><p>Enhance your home with this magnificent Victorian cast iron fireplace, featuring intricate detailing and timeless craftsmanship. The ornate cast iron surround showcases elegant floral and geometric patterns, adding a touch of historical charm to any space.</p><p>This fireplace includes a Broseley ‘Winchester’ solid wood-burning stove, offering both warmth and style. Included is a decorative fireguard seat ledge to perch upon,  which adds an extra layer of safety while complementing the overall aesthetic. The seat is upholstered in a quality plum coloured velvet.</p><p>The rich graphite dark grey finish to the surround pairs beautifully with classic and contemporary interiors alike.</p><p>A rare and striking centerpiece, this Victorian fireplace is perfect for period properties or anyone looking to add character to their home.</p><p>Description of log burner:</p><p>The Broseley Winchester wood burning stove incorporates unique side viewing windows so the beauty and warmth of the fire can be seen and felt from all aspects of your living room.</p><p>Incorporating highly controllable primary and secondary air-wash features together with a large firebox to accommodate even larger logs the Winchester offers heat outputs of up to 8kw/hr.</p><p>Key Features</p><p>Optional top and rear outlet</p><p>Triple aspect viewing window</p><p>Primary air control and secondary air wash feature</p><p>Ash pan incorporated underneath the body of the stove</p><p>Easily removable Cast Iron fire bricks and baffle (no fixings)</p><p>Turning Grate</p><p>FUEL TYPE</p><p>Wood burning</p><p>HEAT OUTPUT</p><p>8kW</p><p>DIMENSIONS of log burning stove</p><p>Height - 605mm</p><p>Width - 600mm</p><p>Depth - 520mm</p><p>FLUE SIZE</p><p>125mm</p><p>MATERIAL</p><p>Cast Iron</p><p>WEIGHT</p><p>116Kg</p><p>ALL DISMANTLED AND READY TO COLLECT</p><p>Dimensions Of Fire surround:145cm H x 186cm W mantle x 22cm D</p><p>Seat guard size:205cm W x 52cm H</p><p>You will receive in this package:</p><p>Cast iron Fire surround</p><p>2 x cast iron fire dogs</p><p>Fire guard seating surround</p><p>Broseley Log burner suitable for large room (room size it came out of 30ft x 50ft)</p><p>Black granite tiles in front of log burner and tiles to the sides around the opening included</p><p>Two part elbow bend flue included, part is attached to the rear of the log burner and one piece is photographed with the granite pieces. You will just require the part that goes up the chimney</p><p>The table in the last image, indicates how you can work out if the log burner is an appropriate size for your room.</p><p>Any other questions, message Marcia.</p><p>NOTE: I can provide a delivery quote for two man delivery, message me with your postcode.</p><p>There is a small section that needs welding at the back of the cast iron fire surround, so have reduced the price to reflect this.</p></div>
    <div class="gallery"><img src="https://i.ebayimg.com/images/g/-GAAAOSwfTtnphYq/s-l1600.webp" alt="Gallery image 1 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/4pMAAOSwaQpnphYs/s-l1600.webp" alt="Gallery image 2 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/Bm0AAOSwVbBnpf67/s-l1600.webp" alt="Gallery image 3 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/FzcAAOSwus5npf7k/s-l1600.webp" alt="Gallery image 4 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/GKIAAOSwrftnpf63/s-l1600.webp" alt="Gallery image 5 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/J8oAAOSw8wZnpf62/s-l1600.webp" alt="Gallery image 6 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/KRIAAOSwJGdnpf8L/s-l1600.webp" alt="Gallery image 7 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/UtMAAOSwPRtnpf61/s-l1600.webp" alt="Gallery image 8 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/V-0AAOSwFlFnpf7j/s-l1600.webp" alt="Gallery image 9 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/ZxAAAOSwTw9npf63/s-l1600.webp" alt="Gallery image 10 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/bSwAAOSw3U9npf8O/s-l1600.webp" alt="Gallery image 11 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/diUAAOSw1Fpnpf7f/s-l1600.webp" alt="Gallery image 12 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/ersAAOSwzwFnphYp/s-l1600.webp" alt="Gallery image 13 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/h2YAAOSwM6ZnphYt/s-l1600.webp" alt="Gallery image 14 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/haQAAOSwL81npf7e/s-l1600.webp" alt="Gallery image 15 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/iXIAAOSw2Alnpf8N/s-l1600.webp" alt="Gallery image 16 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/jRwAAOSw2n9npf64/s-l1600.webp" alt="Gallery image 17 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/ktYAAOSwGhRnpf7i/s-l1600.webp" alt="Gallery image 18 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/tuoAAOSwENZnpf7i/s-l1600.webp" alt="Gallery image 19 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/vdwAAOSw~YVnpf7g/s-l1600.webp" alt="Gallery image 20 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"><img src="https://i.ebayimg.com/images/g/vg8AAOSwVPNnpf8O/s-l1600.webp" alt="Gallery image 21 for Victorian Cast Iron Fireplace, Log Burner, Seat Guard, Fire Dogs, Superb Set"></div>
  </div>

  <div id="image-modal" class="image-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title"> <span class="modal-close" tabindex="0" role="button" aria-label="Close image popup">&times;</span> <div class="modal-content-wrapper" id="modal-content-wrapper">
        <button class="modal-nav prev" id="modal-prev" type="button" aria-label="Previous image">&#10094;</button> <img class="modal-content" id="modal-image" alt="Enlarged gallery image" aria-live="polite"> <span id="modal-title" class="visually-hidden">Image preview</span> <button class="modal-nav next" id="modal-next" type="button" aria-label="Next image">&#10095;</button> </div>
  </div>

  <style>.visually-hidden { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }</style>

  <script>
    // Side Menu / Overlay JS
    function toggleMenu() {
      const menu = document.getElementById('side-menu');
      const overlay = document.getElementById('overlay');
      const body = document.body;
      if (!menu || !overlay || !body) {
        console.error("Menu/Overlay elements not found.");
        return;
      }
      const isOpen = menu.classList.contains('open');
      menu.classList.toggle('open');
      overlay.classList.toggle('show');
      body.classList.toggle('no-scroll');
      // Focus management for accessibility
      if (!isOpen) {
          // Optional: Focus first focusable element in menu, e.g., close button
          const closeBtn = menu.querySelector('.close-btn');
          if(closeBtn) closeBtn.focus();
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // --- Menu/Overlay Listeners ---
      try {
          const closeBtn = document.querySelector('#side-menu .close-btn');
          if (closeBtn) closeBtn.addEventListener('click', e => { e.stopPropagation(); toggleMenu(); });
          const overlay = document.getElementById('overlay');
          if (overlay) overlay.addEventListener('click', toggleMenu);
          const menuButton = document.querySelector('header button.menu');
          if (menuButton) menuButton.addEventListener('click', toggleMenu); // Ensure header button works too

      } catch(e) { console.error("Error setting up menu listeners:", e); }

      // --- Image Modal Functionality ---
      try {
          const modal = document.getElementById('image-modal');
          const modalImg = document.getElementById('modal-image');
          const modalClose = document.querySelector('.modal-close');
          const modalPrev = document.getElementById('modal-prev');
          const modalNext = document.getElementById('modal-next');
          const galleryImages = document.querySelectorAll('.gallery img'); // Get images within gallery context
          const modalContentWrapper = document.getElementById('modal-content-wrapper');

          if (!modal || !modalImg || !modalClose || !modalPrev || !modalNext || !modalContentWrapper || galleryImages.length === 0) {
             console.warn("Modal elements missing or no gallery images found. Modal functionality disabled.");
             return; // Exit if essential modal elements are missing
          }

          let galleryImageSources = [];
          galleryImages.forEach((img, index) => {
              const src = img.getAttribute('src');
              // Use the alt text from the gallery image for the modal, default if empty
              const alt = img.getAttribute('alt') || `Enlarged gallery image ${index + 1}`;
              if (src) {
                   galleryImageSources.push({ src: src, alt: alt });
              } else {
                   console.warn(`Gallery image at index ${index} missing src attribute.`);
              }
              img.addEventListener('click', (e) => {
                  e.preventDefault(); // Prevent default if wrapped in <a>
                  const clickedSrc = img.getAttribute('src');
                  const foundIndex = galleryImageSources.findIndex(item => item.src === clickedSrc);
                  if (foundIndex !== -1) {
                      openModal(foundIndex);
                  } else {
                       console.error("Clicked image source not found in gallery array.");
                  }
              });
          });

          let currentImageIndex = 0; // Define here

          const openModal = (index) => {
               if (index < 0 || index >= galleryImageSources.length) return;
              currentImageIndex = index;
              modalImg.src = galleryImageSources[currentImageIndex].src;
              modalImg.alt = galleryImageSources[currentImageIndex].alt; // Set correct alt text
              modal.classList.add('show');
              document.body.classList.add('no-scroll');
              updateNavButtons();
              modalClose.focus(); // Focus close button when opening
          };

          const showImage = (index) => {
              if (index < 0 || index >= galleryImageSources.length) return; // Boundary check
              currentImageIndex = index;
              // Preload next/prev image slightly ahead? Optional.
              modalImg.src = galleryImageSources[currentImageIndex].src;
              modalImg.alt = galleryImageSources[currentImageIndex].alt;
              updateNavButtons();
          };

          const updateNavButtons = () => {
              modalPrev.classList.toggle('show-button', currentImageIndex > 0);
              modalNext.classList.toggle('show-button', currentImageIndex < galleryImageSources.length - 1);
              // Disable buttons at boundaries for accessibility
              modalPrev.disabled = currentImageIndex <= 0;
              modalNext.disabled = currentImageIndex >= galleryImageSources.length - 1;
          };

          const closeModal = () => {
            modal.classList.remove('show');
            document.body.classList.remove('no-scroll');
            // Optional: return focus to the element that opened the modal if known
          };

          // Close Listeners
          modalContentWrapper.addEventListener('click', (event) => {
            // Close only if clicking the backdrop, not the image or buttons
            if (event.target === modalContentWrapper) {
              closeModal();
            }
          });
          modalClose.addEventListener('click', closeModal);
          modalClose.addEventListener('keydown', (event) => { // Allow closing with Enter/Space on button
            if(event.key === 'Enter' || event.key === ' ') {
                 event.preventDefault();
                 closeModal();
            }
          });

          // Keyboard Navigation Listener
          document.addEventListener('keydown', (event) => {
              if (!modal.classList.contains('show')) return; // Only act if modal is open
              if (event.key === 'Escape') {
                  closeModal();
              } else if (event.key === 'ArrowLeft' && currentImageIndex > 0) {
                  showImage(currentImageIndex - 1);
                  modalPrev.focus(); // Focus appropriate nav button
              } else if (event.key === 'ArrowRight' && currentImageIndex < galleryImageSources.length - 1) {
                  showImage(currentImageIndex + 1);
                  modalNext.focus(); // Focus appropriate nav button
              }
           });

          // Nav Button Listeners
          modalPrev.addEventListener('click', (e) => { e.stopPropagation(); showImage(currentImageIndex - 1); });
          modalNext.addEventListener('click', (e) => { e.stopPropagation(); showImage(currentImageIndex + 1); });

          // Swipe Functionality
          let touchStartX = 0; let touchEndX = 0; const swipeThreshold = 50;
          modal.addEventListener('touchstart', (e) => {
              // Ignore swipe if interaction is on buttons
              if (e.target.closest('.modal-nav') || e.target.closest('.modal-close')) return;
              if (e.touches.length === 1) touchStartX = e.touches[0].clientX; // Record start position
          }, { passive: true }); // Use passive for performance

          modal.addEventListener('touchend', (e) => {
              if (e.target.closest('.modal-nav') || e.target.closest('.modal-close')) return;
              if (touchStartX === 0 || e.changedTouches.length === 0) return; // Ensure start was recorded
              touchEndX = e.changedTouches[0].clientX; // Record end position
              handleSwipe();
              touchStartX = 0; // Reset start position
          }, { passive: true });

          function handleSwipe() {
              const deltaX = touchEndX - touchStartX;
              if (Math.abs(deltaX) > swipeThreshold) { // Check if swipe distance is significant
                  if (deltaX < 0 && currentImageIndex < galleryImageSources.length - 1) {
                      // Swiped left (next image)
                      showImage(currentImageIndex + 1);
                  } else if (deltaX > 0 && currentImageIndex > 0) {
                      // Swiped right (previous image)
                      showImage(currentImageIndex - 1);
                  }
              }
          }
      } catch (e) { console.error("Error setting up modal JS:", e); }
    }); // End DOMContentLoaded
  </script>
</body>
</html>
